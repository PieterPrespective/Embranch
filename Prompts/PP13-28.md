- IssueID = PP13-28
- Please read 'Prompts/BasePrompt.md' first for general context
- Please review the  report on 'PP13-23' and 'PP13-26' in the 'chroma-feat-design-planning-mcp' issue database, this issue is a continuation
- In this activity we'll be refactoring/ fixing minor bugs in the current chroma database interfacing functions
	- A1 - Currently our integration tests related to migration make use of a 'bare folder' with an out-of-date chroma database - please refactor the integration test functions to make use of the zip file located at 'multidolt-mcp-testing\TestData\out-of-date-chroma-database.zip' the contained database is the same (but in using this we pollute the git less)
		- Specifically look at the script 'multidolt-mcp-testing\IntegrationTests\OutOfDateDatabaseMigrationTests.cs'
		- Likely you will need to include another package in this project to unzip the files for use during testing
		- Its unclear whether metadata, ids and distances are properly migrated - please create an integration test on the migrated database running the QueryDocuments tool with queryTextsJson: "DSpline"
			- it should return data comparable to: {
      "ids": [
        [
          "dspline-creation-reference"
        ]
      ],
      "embeddings": null,
      "documents": [
        [
          "DSpline Creation and Usage Reference - Essential knowledge for working with DSplines in DES
    scenes:\n\n**Location**: SE-406 implementation demonstrates comprehensive DSpline creation via
    script\n**File**: Assets/DPLAN/Tests/Editor/E2E_SE406_DSplineCreationLearning.cs\n\n**Key DSpline
    Operations**:\n1. **Creation**: GameObject.AddComponent<DSpline>() + set ControlPolygon\n2. **Position Query**:
     GetPointAtEquidistantPerc(t) where t=[0,1] for position along spline\n3. **Control Points**:
    DSplineControlPointDescription(position, handleIn, handleOut)\n4. **Update**: Call UpdateSpline(true) after
    setting control polygon\n\n**Assembly Dependencies**:\n- Prespective.DoubleTransform\n-
    com.u040.prespective.doubletransform\n- Using directive: u040.prespective.doubletransform.spline\n\n**Smooth
    Curve Algorithm**:\n- Use continuous control polygon generation with MAGIC_MULTIPLE = 0.25459556d\n- Calculate
    direction vectors between adjacent points\n- Apply handle positioning for smooth tangents\n\n**Practical
    Usage**:\n- Actors can follow splines for realistic motion paths\n- Position validation with tolerance for
    curved interpolation\n- Visual debugging by placing cubes at calculated positions\n\n**Reference
    Documentation**: https://docs.prespective-software.com/com.u040.prespective.doubletransform/0.2.14/manual/DSpli
    ne/index.html\n\nThis knowledge is validated through successful E2E test demonstrating spline creation through
    points (0,0,0), (1,0,1), (2,0,-1) with 50% position validation."
        ]
      ],
      "uris": null,
      "included": [
        "documents",
        "metadatas",
        "distances"
      ],
      "data": null,
      "metadatas": [
        [
          {
            "date": "2025-11-27",
            "type": "reference_guide",
            "source": "SE-406",
            "category": "spline_usage",
            "validated": true
          }
        ]
      ],
      "distances": [
        [
          0.8116901516914368
        ]
      ]
    }
			- 
	- A2 - the output JSON for the various tools doesn't seem to match the signatures mentioned in 'Documentation\userdocs\chroma-tools-reference.md' - specifically:
		- chroma_list_collections - doesn't return an array of collection strings, but a single string where names are seperated by slashes - also no total count field
		- chroma_query_documents:
			- doesn't return ids, metadatas and distances, only documents (may be related to A1)
			- documents returned are in a stringified json structure, not actual JSON 